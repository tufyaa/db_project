# Система управления музыкальным фестивалем

---

### Введение

##### **_Цель работы:_**

_Получение практических навыков работы с промышленными СУБД, проектирование БД (концептуальное, логическое, физическое), создание хранимых процедур, представлений,
триггеров, индексов._

---

#### **_Инструменты:_**

PostgreSQL 15, Git, Python

---

#### **_Описание проекта:_**

_Проект реализует систему управления музыкальным фестивалем, которая позволяет администрировать артистов, фестивальные события, площадки проведения, а также продажу билетов с подробной информацией о покупателях._

---

#### **_Предметная область и сущности:_**

**Сущности проекта:**

1. **Artists (Артисты)**
2. **Events (События)**
3. **Venues (Площадки)**
4. **Tickets (Билеты)**
5. **Customers (Покупатели)**

---

#### **_Подробное описание каждой сущности:_**

##### **1. Artists (Артисты)**

- **Назначение:**  
  Хранит информацию об исполнителях (группах или соло-артистах), с возможностью связи с менеджером через телефон и email.
- **Поля:**
  - **artist_id** – Уникальный идентификатор артиста.
  - **name** – Название группы или имя исполнителя.
  - **main_genre** – Основной музыкальный жанр.
  - **phone_number** – Контактный номер для связи с менеджером.
  - **email** – Электронная почта для связи с менеджером.

---

##### **2. Events (События)**

- **Назначение:**  
  Содержит данные о фестивальных мероприятиях.
- **Поля:**
  - **event_id** – Уникальный идентификатор события.
  - **event_name** – Название события.
  - **event_date** – Дата и время проведения.
  - **venue_id** – Внешний ключ на таблицу **Venues**.
  - **age_restriction** – Возрастное ограничение.
  - **artist_id** – Внешний ключ на таблицу **Artists**, указывающий на основного артиста, выступающего на событии.

---

##### **3. Venues (Площадки)**

- **Назначение:**  
  Хранит информацию о местах проведения фестиваля.
- **Поля:**
  - **venue_id** – Уникальный идентификатор площадки.
  - **venue_name** – Название площадки.
  - **address** – Физический адрес.
  - **capacity** – Вместимость (количество мест).
  - **email** – Электронная почта для связи с представителями площадки.

---

##### **4. Tickets (Билеты)**

- **Назначение:**  
  Хранит данные о билетах для фестивальных событий. Каждый билет привязан к конкретному событию.
- **Поля:**
  - **ticket_id** – Уникальный идентификатор билета.
  - **event_id** – Внешний ключ на таблицу **Events**.
  - **customer_id** – Внешний ключ на таблицу **Customers** (может быть NULL, если билет ещё не продан).
  - **purchase_date** – Дата и время покупки билета (NULL, если билет не продан).
  - **price** – Текущая цена билета.
  - **previous_price** – Предыдущая цена билета _(SCD Type 3)_.
  - **ticket_type** – Вид билета, возможные значения: `standart`, `standart+`, `premium`.
  - **seat_number** – Номер места.
  - **status** – Статус билета: `available` или `sold`.
- **SCD Type 3:**  
  При обновлении информации о билете текущие значение поля `price` копируется в поле `previous_price`. Таким образом, таблица хранит только актуальное и предыдущее состояние, позволяя отслеживать последнее изменение.

---

##### **5. Customers (Покупатели)**

- **Назначение:**  
  Содержит данные о клиентах, приобретающих билеты.
- **Поля:**
  - **customer_id** – Уникальный идентификатор клиента.
  - **first_name** – Имя покупателя.
  - **last_name** – Фамилия покупателя.
  - **email** – Электронная почта для связи (уникальное).
  - **phone** – Контактный телефон (уникальное).
  - **registration_date** – Дата регистрации.

---

#### **_Заключение:_**

_Проект "Система управления концертами" разработан с учетом требований к нормализации данных. Особое внимание уделено таблице **Tickets**, где реализована система версионирования по SCD Type 3, позволяющая хранить актуальное состояние и последнее предыдущее изменение ключевых атрибутов билета. Такая архитектура обеспечивает целостность данных, гибкость управления информацией._
